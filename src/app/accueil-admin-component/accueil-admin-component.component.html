<app-navigation-component></app-navigation-component>

<div class="dashboard-container">
  <div class="main-content">
    <header class="main-header">
      <h1>Tableau de Bord Administrateur</h1>
      <div class="user-info">
        <span>Bienvenue, Admin !</span>
        <i class="fas fa-user-circle user-avatar"></i>
      </div>
    </header>

    <section class="stats-cards">
      <div class="card stat-card">
        <div class="icon-container"><i class="fas fa-users"></i></div>
        <div class="card-content">
          <h3>Total Clients</h3>
          <p class="stat-value">{{ dashboardStats?.totalClients || 0 }}</p>
        </div>
      </div>
      <div class="card stat-card">
        <div class="icon-container"><i class="fas fa-user-tie"></i></div>
        <div class="card-content">
          <h3>Total Agents</h3>
          <p class="stat-value">{{ dashboardStats?.totalAgents || 0 }}</p>
        </div>
      </div>
      <div class="card stat-card">
        <div class="icon-container"><i class="fas fa-map-marker-alt"></i></div>
        <div class="card-content">
          <h3>Total Sites Touristiques</h3>
          <p class="stat-value">{{ dashboardStats?.totalSites || 0 }}</p>
        </div>
      </div>
      <div class="card stat-card">
        <div class="icon-container"><i class="fas fa-briefcase"></i></div>
        <div class="card-content">
          <h3>Total Services</h3>
          <p class="stat-value">{{ dashboardStats?.totalServices || 0 }}</p>
        </div>
      </div>
      <div class="card stat-card">
        <div class="icon-container"><i class="fas fa-hotel"></i></div>
        <div class="card-content">
          <h3>Revenus Total</h3>
          <p class="stat-value">{{ dashboardStats?.totalRevenus | currency:'EUR':'symbol':'1.2-2':'fr' }}</p>
        </div>
      </div>
      <div class="card stat-card">
        <div class="icon-container"><i class="fas fa-calendar-check"></i></div>
        <div class="card-content">
          <h3>Total Réservations</h3>
          <p class="stat-value">{{ dashboardStats?.totalReservations || 0 }}</p>
        </div>
      </div>
    </section>

    <section class="charts-section">
      <div class="card chart-card" *ngIf="isBrowser && dashboardStats"> <h3>Répartition Clients & Agents</h3>
        <div class="chart-canvas">
          <canvas baseChart
                  [data]="pieChartData"
                  [options]="pieChartOptions"
                  chartType="pie">
          </canvas>
        </div>
      </div>

      <div class="card chart-card" *ngIf="isBrowser && dashboardStats"> <h3>Évolution des Réservations</h3>
        <div class="chart-canvas">
          <canvas baseChart
                  [data]="pieChartData"
                  [options]="pieChartOptions"
                  chartType="line">
          </canvas>
        </div>
      </div>
    </section>
  </div>
</div>

<app-footer-component></app-footer-component>